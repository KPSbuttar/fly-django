{% extends 'basepage/base.html' %}
{% load staticfiles i18n %}
{% block content %}

<!-- ---------- My Goals ------------- -->
<div data-role="page" style="background-color:#fff;" id="goal-page">
    {% include 'basepage/top_menu.html' %}
    {% include 'basepage/side_menu.html' %}
    {% include "mygoals/view_js.html" %}
    <div data-role="content">
        <div class="text-center">
            <!-- Savings -->
            <div class="my-boxes red-box goals-box">
                <img src="{% static 'img/savings.png' %}" class="goals-img" />
                <h2>{% trans "Savings" %}</h2>
                <p>{% trans "I want to save..." %}</p>
                <input {% if savings_goal.is_locked %}disabled=true{% endif %}
                       id="save-dollars"
                    value="{% if savings_goal.amount %}{{ savings_goal.amount }}{% endif %}"
                     type="text"
              placeholder="{% trans 'amount in dollars' %}"
               aria-label="{% trans 'Amount (to the nearest dollar)' %}" />
                <p>{% trans "Every..." %}</p>
                <fieldset class="ui-grid-a">
                    <div class="ui-block-a">
                        <input {% if savings_goal.is_locked %}disabled=true{% endif %}
                               id="save-period"
                            value="{% if savings_goal.times %}{{ savings_goal.times }}{% endif %}"
                             type="text"
                      placeholder="{% trans 'time period' %}"
                       aria-label="{% trans 'Time period' %}" />
                    </div>
                    <div class="ui-block-b">
                        <select {% if savings_goal.is_locked %}disabled=true{% endif %} id="save-time">
                            <option value=1 {% if savings_goal.period == 1  %}selected{% endif %}>
                                {% trans "Weeks" %}
                            </option>
                            <option value=2 {% if savings_goal.period == 2  %}selected{% endif %}>
                                {% trans "Months" %}
                            </option>
                        </select>
                    </div>
                </fieldset>
                <button {% if savings_goal.is_locked %}disabled=true{% endif %}
                    id="red-btn"
                 data-icon="{% if savings_goal.is_locked %}lock{% else %}check{% endif %}"
                   onclick="confirm_save_goal({{ savings_goal.id }});">
                
                {% if savings_goal.is_locked %}
                    {% trans "Goal Locked (30 days)" %}
                {% else %}
                    {% trans "Set My Goal!" %}
                {% endif %}
                
                </button>
            </div>
            <!-- end Savings -->
            
            <!-- Credit -->
            <div class="my-boxes blue-box goals-box">
                <img src="{% static 'img/oinweb-fly-credit.png' %}" />
                <h2>{% trans "Credit" %}</h2>
                <p>{% trans "I want to raise my credit score by..." %}</p>
                <input {% if credit_goal.is_locked %}disabled=true{% endif %}
                       id="credit-points"
                     type="text"
              placeholder="{% trans 'number of points' %}"
               aria-label="{% trans 'Number of points' %}" />
                <p>{% trans "In..." %}</p>
                <fieldset class="ui-grid-a">
                    <div class="ui-block-a">
                        <input {% if credit_goal.is_locked %}disabled=true{% endif %}
                               id="credit-period"
                            value=""
                             type="text"
                      placeholder="{% trans 'time period' %}"
                       aria-label="{% trans 'Time period' %}" />
                    </div>
                    <div class="ui-block-b">
                        <select {% if credit_goal.is_locked %}disabled=true{% endif %} id="credit-time">
                            <option value=1 {% if credit_goal.period == 1  %}selected{% endif %}>
                                {% trans "Weeks" %}
                            </option>
                            <option value=2 {% if credit_goal.period == 2  %}selected{% endif %}>
                                {% trans "Months" %}
                            </option>
                        </select>
                    </div>
                </fieldset>
                <button {% if credit_goal.is_locked %}disabled=true{% endif %}
                        id="blue-btn"
                 data-icon="check"
                   onclick="confirm_credit_goal({{ credit_goal.id }});">
                   {% if credit_goal.is_locked %}
                       {% trans "Goal Locked (30 days)" %}
                   {% else %}
                       {% trans "Set My Goal!" %}
                   {% endif %}
                </button>
            </div>
            <!-- end Credit -->
            
            <!-- Final Goal -->
            <div class="my-boxes green-box goals-box">
                <img src="{% static 'img/oinweb-fly-goals.png' %}" />
                <h2>{% trans "Goal" %}</h2>
                <p>{% trans "I want to save..." %}</p>
                <input id="goal-amount"
                     type="text"
              placeholder="{% trans 'amount in dollars' %}"
               aria-label="{% trans 'Amount (to the nearest dollar)' %}" />
                <p>{% trans "For..." %}</p>
                <fieldset class="ui-grid-a">
                    <select id="goal-for">
                        <option value=1>
                            {% trans "House" %}
                        </option>
                        <option value=2>
                            {% trans "Business" %}
                        </option>
                        <option value=3>
                            {% trans "Education" %}
                        </option>
                        <option value=4>
                            {% trans "Vacation" %}
                        </option>
                        <option value=5>
                            {% trans "Goal" %}Retirement
                        </option>
                        <option value=6>
                            {% trans "General Savings" %}
                        </option>
                        <option value=7>
                            {% trans "Other" %}
                        </option>
                    </select>
                </fieldset>
                <button id="green-btn"
                 data-icon="check"
                   onclick="lockGreenBox();">
                    {% trans "Set My Goal!" %}
                </button>
            </div>
            <!-- end Final Goal -->
            
        </div>
        
    </div><!-- /content -->
    {% include "basepage/footer.html" %}

    <!-- Error Modal -->
    <div data-role="popup" id="error-popup" data-theme="a" class="ui-corner-all" data-transition="pop">
        <div class="text-center">
            <h3><i class="fa fa-2x fa-times"></i><div id="id_error_title"></div></h3>
            <p id="error-text"><div id="id_error_message"></div></p>
            <button data-role="button"
                class="ui-btn ui-corner-all ui-shadow ui-btn-b"
                onclick="$('#error-popup').popup('close');">
                Close
            </button>
        </div>
    </div>
    <!-- end Message Modal -->
    
    <!-- Success Modal -->
    <div data-role="popup" id="confirm-popup" data-theme="a" class="ui-corner-all" data-transition="pop">
        <div class="text-center">
            <h3>Great you've set a goal!</h3>
            <p>Once you confirm this goal you cannot change it for at least 30 days</p>
            <button data-role="button"
                        class="ui-btn ui-corner-all ui-shadow ui-btn-b"
                      onclick="save_goal(); $('#confirm-popup').popup('close');">
                Lock Goal
            </button>
            <button data-role="button"
                        class="ui-btn ui-corner-all ui-shadow ui-btn-b"
                      onclick="$('#confirm-popup').popup('close');">
                Cancel
            </button>
        </div>
    </div>
    <!-- end Success Modal -->

</div><!-- /page -->
{% endblock content %}